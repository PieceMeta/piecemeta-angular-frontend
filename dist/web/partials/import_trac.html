<form name="tracImportForm" role="form" ng-submit="submit()"><div ng-if="data.dataPackage" class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title">Import TRAC format data</h3></div><div class="panel-body"><div class="row"><div class="col-sm-12"><h2>Add a channel to Package "{{ data.dataPackage.title }}"</h2><div ng-if="!data.selectedChannel.title" class="form-group"><label class="control-label">Create new Channel</label><input ng-model="data.channelTitle" class="form-control"/></div><div ng-if="data.channelTitle == ''" class="form-group"><label class="control-label">Append to existing Channel</label><select ng-model="data.selectedChannel" ng-options="dataChannel as dataChannel.title for dataChannel in data.dataChannels" class="form-control"><option value="">Choose a channel...</option></select></div><div ng-if="data.selectedChannel.title || data.channelTitle" class="form-group"><div role="button" ng-file-select="onFileSelect($files)" data-multiple="false" class="well well-lg col-sm-12">{{file ? file.name : 'Click to select text file containing your data to add to Channel "' + (data.selectedChannel.title || data.channelTitle) + '"'}}</div></div></div></div><div ng-if="fileLines.length &gt; 0" class="row"><div class="col-sm-12"><h3>Configure data format</h3><p>To parse the data structure you'll need to define a regular expression. You can also just use one of the presets and modify it to fit your needs.<a href="http://en.wikipedia.org/wiki/Regular_expression" target="_blank">(What?!)</a></p><div class="form-group"><label class="control-label">Preset</label><select ng-model="data.regexString" ng-change="updateRegex(data.regexString)" ng-options="regexPreset.data as regexPreset.title for regexPreset in data.regexPresets" class="form-control"><option value="">Choose a preset...</option></select></div><div class="form-group"><label class="control-label">Regular expression</label><input ng-model="data.regexString" ng-change="updateRegex(data.regexString)" placeholder="Enter a valid regular expression with numbered captures (without the slashes and modifiers)" class="form-control"/></div></div></div><div ng-if="fileLines.length &gt; 0" class="row"><div class="col-sm-8 table-responsive"><h3>Parsed data</h3><table class="table table-striped table-bordered"><tbody><tr><td ng-repeat="(i, title) in valLabel track by i"><input ng-model="valLabel[i]" placeholder="Value title" required="required" class="form-control"/></td></tr><tr><td ng-repeat="(i, title) in valLabel track by i"></td></tr><tr ng-repeat="(idx, parts) in data.resultLines track by idx"><td ng-repeat="(vIdx, num) in parts track by vIdx"><pre><code>{{ num }}</code></pre></td></tr></tbody></table></div><div class="col-sm-4"><h3>Raw data</h3><p><strong>Total frames: {{ frameCount }}</strong></p><p>Showing a sample of 10 frames.</p><pre><code><span ng-repeat="(idx, line) in fileLines track by idx">{{ line }}<br/></span></code></pre><div class="row"><h3>Channel setup</h3><div ng-if="!data.selectedChannel.title" class="form-group"><label class="control-label">Channel title</label><input ng-model="data.channelTitle" required="required" class="form-control"/></div><div ng-if="!data.selectedChannel.title" class="form-group"><label class="control-label">Frames per second</label><input ng-model="data.fps" required="required" class="form-control"/></div><div ng-if="valLength &gt; 1" class="form-group"><label class="control-label">Value group (for multi-value Channels, e.g. Position, Rotation, Frequencies...)</label><input ng-model="data.valueGroup" class="form-control"/></div><div ng-if="valLength &gt; 0" class="form-group"><input type="submit" value="Add channel" class="btn btn-primary btn-lg"/></div></div></div></div></div></div></form>